name: CI-Autobuild
on: [push]
jobs:
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
        python-version: ['3.9']
        include:
          # includes a new variable of npm with a value of 6
          # for the matrix leg matching the os and version
          - os: macos-latest
            pyinstaller: -F --osx-bundle-identifier de.jfeil.RegeltestCreator --windowed
          - os: windows-latest
            pyinstaller: -F
          - os: ubuntu-latest
            pyinstaller: -F


    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: ${{ matrix.python-version }} # Version range or exact version of a Python version to use, using SemVer's version range syntax
          architecture: 'x64' # optional x64 or x86. Defaults to x64 if not specified      - run: pip install -r requirements.txt
      - run: pip install -r requirements.txt
      - run: pip install pyinstaller
      - run: pyinstaller pyinstaller RegeltestCreator.pyw -F ${{ matrix.pyinstaller }}
